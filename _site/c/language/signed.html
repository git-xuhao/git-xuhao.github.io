<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>C 语言有符号和无符号的理解（二）</title>
    <meta name="description" content="1.你自已决定是否需要有正负：就像我们必须决定某个量使用整数还是实数，使用多大的范围数一样，我们必须自已决定某个量是否需要正负。如果这个量不会有负值，那么我们可以定它为带正负的类型。在计算机中，可以区分正负的类型，称为有符类型（signed），无正负的类型（只有正值），称为无符类型。 （unsigned）数值类型...">

    <link rel="shortcut icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_8v3czwksspqlg14i.css">
    <link rel="stylesheet" href="/css/main.css ">
    <link rel="canonical" href="http://localhost:4000/c/language/signed">
    <link rel="alternate" type="application/rss+xml" title="XUHAO’S 博客" href="http://localhost:4000/feed.xml ">


    <script>
    // 百度统计代码
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?3e58af9d5d9338b706ad81d79dcedb4c";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>


    <script>
    // google analytics
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-122974929-1', 'auto');
      ga('send', 'pageview');

    </script>



</head>


  <body>

    <header id="top">
    <div class="wrapper">
        <a href="/" class="brand">XUHAO’S 博客</a>
        <small>Always hungry to keep learning.</small>
        <button id="headerMenu" class="menu"><i class="fa fa-bars"></i></button>
        <nav id="headerNav">
            <ul>
                <li>
                    
                    <a href="/">
                    
                        <i class="fa fa-home"></i>博客
                    </a>
                </li>

                
                    
                    <li>
                        
                        <a href="/archive/">
                        
                            <i class="fa fa-archive"></i>归档
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/category/">
                        
                            <i class="fa fa-th-list"></i>分类
                        </a>
                    </li>
                    
                
                    
                
                    
                    <li>
                        
                        <a href="/collection/">
                        
                            <i class="fa fa-bookmark"></i>书签
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/demo/">
                        
                            <i class="fa fa-play"></i>项目
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/about/">
                        
                            <i class="fa fa-user"></i>关于
                        </a>
                    </li>
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
        </nav>
    </div>
</header>


        <div class="page clearfix" post>
    <div class="left">
        <h1>C 语言有符号和无符号的理解（二）</h1>
        <div class="label">

            <div class="label-card">
                <i class="fa fa-calendar"></i>2016-08-07
            </div>

            <div class="label-card">
                
            </div>

            <div class="label-card">
                
            </div>

            <div class="label-card">
            


<span class="categories">
  <!-- <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#C/C++" title="Category: C/C++" rel="category">C/C++</a>
    
  
 -->
  <i class="fa "></i>
  
    
        <a href="/category/#C/C++" title="Category: C/C++" rel="category">C/C++</a>
    
  

  <!-- <span class="point">:</span> -->
</span>


            </div>

            <div class="label-card">
            
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <!--a href="/tag/#C%2FC%2B%2B" title="Tag: C/C++" rel="tag">C/C++</a-->
        <a href="/tag/#C/C++" title="Tag: C/C++" rel="tag">C/C++</a>
    
  

</span>

            </div>

        </div>
        <hr>
        <article itemscope itemtype="http://schema.org/BlogPosting">
        <h3 id="1你自已决定是否需要有正负"><strong>1.你自已决定是否需要有正负：</strong></h3>
<p>就像我们必须决定某个量使用整数还是实数，使用多大的范围数一样，我们必须自已决定某个量是否需要正负。如果这个量不会有负值，那么我们可以定它为带正负的类型。</p>

<p>在计算机中，可以区分正负的类型，称为有符类型（signed），无正负的类型（只有正值），称为无符类型。 （unsigned）数值类型分为整型或实型，其中整型又分为无符类型或有符类型，而实型则只有符类型。 字符类型也分为有符和无符类型。 比如有两个量，年龄和库存，我们可以定前者为无符的字符类型，后者定为有符的整数类型。</p>

<h3 id="2使用二制数中的最高位表示正负"><strong>2.使用二制数中的最高位表示正负:</strong></h3>

<p>首先得知道最高位是哪一位？1个字节的类型，如字符类型，最高位是第7位，2个字节的数，最高位是第15位，4个字节的数，最高位是第31位。不同长度的数值类型，其最高位也就不同，但总是最左边的那位（如下示意）。字符类型固定是1个字节，所以最高位总是第7位。</p>

<p>(红色为最高位)</p>

<p><strong>单字节数：</strong></p>

<p>&lt;font color=red&gt;1&lt;/font&gt;1111111</p>

<p><strong>双字节数：</strong></p>

<p>&lt;font color=red&gt;1&lt;/font&gt;1111111 11111111</p>

<p><strong>四字节数：</strong></p>

<p>&lt;font color=red&gt;1&lt;/font&gt;1111111 11111111 11111111 11111111</p>

<p>当我们指定一个数量是无符号类型时，那么其最高位的1或0，和其它位一样，用来表示该数的大小。
当我们指定一个数量是无符号类型时，此时，最高数称为“符号位”。为1时，表示该数为负值，为0时表示为正值。</p>

<p>**3.无符号数和有符号数的范围区别: **</p>

<p>无符号数中，所有的位都用于直接表示该值的大小。有符号数中最高位用于表示正负，所以，当为正值时，该数的最大值就会变小。我们举一个字节的数值对比：</p>

<p><strong>无符号数：</strong> 11111111    值：255</p>

<p><img src="https://img-blog.csdn.net/20160807123518124" alt="这里写图片描述" /></p>

<p><strong>有符号数：</strong> 01111111    值：127</p>

<p><img src="https://img-blog.csdn.net/20160807123533339" alt="这里写图片描述" /></p>

<p>eg：（实在不知道怎么用md语法来打出数学公式，2的幂次方）</p>

<p>同样是一个字节，无符号数的最大值是255，而有符号数的最大值是127。原因是有符号数中的最高位被挪去表示符号了。并且，我们知道，最高位的权值也是最高的（对于1字节数来说是2的7次方=128），所以仅仅少于一位，最大值一下子减半。</p>

<p>不过，有符号数的长处是它可以表示负数。因此，虽然它的在最大值缩水了，却在负值的方向出现了伸展。我们仍一个字节的数值对比：</p>

<p>&lt;font color=blue size=4&gt;无符号数： &lt;/font&gt;           0 —————– 255</p>

<p>&lt;font color=blue size=4&gt;有符号数： &lt;/font&gt;          -128 ——— 0 ———- 127</p>

<p>同样是一个字节，无符号的最小值是 0 ，而有符号数的最小值是-128。</p>

<p>所以二者能表达的不同的数值的个数都一样是256个。只不过前者表达的是0到255这256个数，后者表达的</p>

<p>是-128到+127这256个数。</p>

<p><strong>一个有符号的数据类型的最小值是如何计算出来的呢？</strong></p>

<p>有符号的数据类型的最大值的计算方法完全和无符号一样，只不过它少了一个最高位（见第3点）。但在负值
范围内，数值的计算方法不能直接使用1* 26 + 1* 25 的公式进行转换。</p>

<p>在计算机中，负数除为最高位为1以外，还采用补码形式进行表达。所以在计算其值前，需要对补码进行还原。 这里，先直观地看一眼补码的形式：</p>

<p>在10进制中：1 表示正1，而加上负号：-1 表示和1相对的负值。</p>

<p>那么，我们会很容易认为在2进制中（1个字节）： 0000 0001 表示正1，则高位为1后：1000 0001应该表示-1。</p>

<p>然而，事实上计算机中的规定有些相反，请看下表：</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">二进制（1字节）</th>
      <th>十进制值</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">10000000</td>
      <td>-128</td>
    </tr>
    <tr>
      <td style="text-align: center">10000001</td>
      <td>-127</td>
    </tr>
    <tr>
      <td style="text-align: center">10000010</td>
      <td>-126</td>
    </tr>
    <tr>
      <td style="text-align: center">10000011</td>
      <td>-125</td>
    </tr>
    <tr>
      <td style="text-align: center">10000100</td>
      <td>-124</td>
    </tr>
    <tr>
      <td style="text-align: center">……</td>
      <td>……</td>
    </tr>
    <tr>
      <td style="text-align: center">11111110</td>
      <td>-2</td>
    </tr>
    <tr>
      <td style="text-align: center">11111111</td>
      <td>-1</td>
    </tr>
  </tbody>
</table>

<p>首先我们看到，从-1到-128，其二进制的最高位都是1，正如我们前面说的，负数最高位为1，然后我们觉得有点奇怪了，1000 0000 并没有用来表示 0；而 1000 0001也不是拿来直观地表示-1，事实上，-1用1111 1111来表示。
怎么理解这个问题呢？先问一句是-1大还是-128大？
当然是-1大，那么，1111 1111 -1是什么呢？ 和现实中的计算结果完全一致。1111 1111 -1=1111 1110，而1111 1110 就是-2，就这样一直减下去，当见到只剩最高位用于表示符号的1意外，其他低位全为0时，就是最小的负值，在一字节中，最小的负值是1000 0000，也就是-128。
我们以-1位例，来看看不同字节数的整数中，如何表达-1这个数；</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">字节数</th>
      <th>二进制值</th>
      <th>十进制值</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">单字节数</td>
      <td>11111111</td>
      <td>-1</td>
    </tr>
    <tr>
      <td style="text-align: center">双字节数</td>
      <td>11111111 11111111</td>
      <td>-1</td>
    </tr>
    <tr>
      <td style="text-align: center">四字节数</td>
      <td>11111111 11111111 11111111 11111111</td>
      <td>-1</td>
    </tr>
  </tbody>
</table>

<p>可能有些人看到这里，就已经混了，为什么呢？1111 1111 有时表示255，有时又表示-1？所以我再强调 前面说的第二点，你自己决定一个数是有符号还是无符号的，写程序时，指定一个量是有符号的，那么当这个量的二进制各位上的数都是1时，它表示的数就是-1；相反，如果事先声明这个量是无符号的， 此时它表示的就是该量允许的最大值，对于一个字节的数来说，最大值就是255。</p>

<p>我们已经知道计算机中，所有数据最终都是使用二进制数表达。 也已经学会如何将一个10进制数如何转换为二进制数。 不过，我们仍然没有学习一个负数如何用二进制表达。  比如，假设有一 int 类型的数，值为5，那么，我们知道它在计算机中表示为：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>00000000 00000000 00000000 00000101  
</code></pre></div></div>

<p>5转换成二制是101，不过int类型的数占用4字节（32位），所以前面填了一堆0。 现在想知道，-5在计算机中如何表示？ 在计算机中，负数以其正值的补码形式表达。    什么叫补码呢？这得从原码，反码说起。</p>

<p><strong>原码：</strong>一个整数，按照绝对值大小转换成的二进制数，最高为为符号位，称为原码。 红色为符号位</p>

<p>比如：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>00000000 00000000 00000000 00000101  是 5的原码。                      
10000000 00000000 00000000 00000101  是-5的原码。
 
</code></pre></div></div>

<p><strong>反码：</strong> 将二进制除符号位数按位取反，所得的新二进制数称为原二进制数的反码。 正数的反码为原码，负数的反码是原码符号位外按位取反。</p>

<p>取反操作指：原为1，得0；原为0，得1。（1变0; 0变1）</p>

<p>&lt;font color=red size=4&gt;正数：正数的反码与原码相同。 &lt;/font&gt;<br />
&lt;font color=red size=4&gt;负数：负数的反码，符号位为“1”，数值部分按位取反。  &lt;/font&gt;</p>

<p><strong>比如：</strong>将10000000 00000000 00000000 00000101除符号位每一位取反，       <br />
得11111111 11111111 11111111 11111010。</p>

<p>这时候我们称：11111111 11111111 11111111 11111010 是 10000000 00000000 00000000 00000101 的反码。</p>

<p>&lt;font color=black size=4&gt;反码是相互的， &lt;/font&gt; 所以也可称：<br />
11111111 11111111 11111111 11111010 和 10000000 00000000 00000000 00000101 互为反码。</p>

<p><strong>补码：</strong> 反码加1称为补码。  &lt;font color=red size=4&gt; （如果反码最后一位是1得话就向前加1）&lt;/font&gt;</p>
<ol>
  <li>正数：正数的补码和原码相同。</li>
  <li>负数：按照规则来 
也就是说，要得到一个数的补码，先得到反码，然后将反码加上1，所得数称为补码。 
 11111111 11111111 11111111 11111010 是 10000000 00000000 00000000 00000101（-5） 的反码。<br />
加1得11111111 11111111 11111111 11111011<br />
所以，-5 在计算机中表达为：11111111 11111111 11111111 11111011。转换为十六</li>
</ol>

<p>进制：0xFFFFFFFB。 <br />
再举一例，我们来看整数-1在计算机中如何表示。<br />
假设这也是一个int类型，那么：</p>

<p>1、先取-1的原码：        10000000 00000000 00000000 00000001  <br />
 2、除符号位取反得反码：   11111111 11111111 11111111 11111110 <br />
 3、加1得补码：            11111111 11111111 11111111 11111111</p>

<p>可见，－1在计算机里用二进制表达就是全1。16进制为：0xFFFFFF。</p>

<p><strong>计算机中带有符号数用补码表示的优点：</strong></p>

<p>&lt;font color=red size=4&gt;1、负数的补码与对应正数的补码之间的转换可以用同一种方法——求补运算完成，可以简化硬件；<br />
2、可将减法变为加法，省去减法器；<br />
3、无符号数及带符号数的加法运算可以用同一电路完成。 &lt;/font&gt;</p>

<p>可得出一种心算求补的方法——从最低位开始至找到的第一个1均不变，符号位不变，这之间的各位“求反”(该方法仅用于做题）</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">方法</th>
      <th>例子1</th>
      <th>列子2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">1,从右边开始，找到第一个“1”</td>
      <td>10101001</td>
      <td>10101100</td>
    </tr>
    <tr>
      <td style="text-align: center">2,从这个“1”之后开始到最左边取反（不包括符号位，也就是最高位）</td>
      <td>11010111</td>
      <td>11010100</td>
    </tr>
  </tbody>
</table>

<p><strong>注意：（如果反码最后一位是1得话就向前加1）</strong></p>

<h1 id="csdn">CSDN</h1>
<h3 id="更多系列相关文章传送门">更多系列相关文章传送门：</h3>
<ul>
  <li><a href="http://blog.csdn.net/u011974987/article/details/52138798">C语言（一）基本数据类型</a></li>
  <li><a href="http://blog.csdn.net/u011974987/article/details/52142794">C语言（二）有符号数和无符号数的理解</a></li>
  <li><a href="http://blog.csdn.net/u011974987/article/details/52200178">C语言（三）字符串处理函数</a></li>
  <li><a href="http://blog.csdn.net/u011974987/article/details/52270018">C语言（四）指针概念的理解</a></li>
  <li><a href="http://blog.csdn.net/u011974987/article/details/52290724">C语言（五）内存的分配与释放</a></li>
  <li><a href="http://blog.csdn.net/u011974987/article/details/52305364">C语言（六）结构体和联合体</a></li>
  <li><a href="http://blog.csdn.net/u011974987/article/details/52354074">C语言（七）文件的相关操作</a></li>
</ul>


        </article>
        <hr>

        
        
            
            
                
                    
                
            
                
                    
                
            
        
            
            
                
                    
                
            
        
            
            
                
                    
                
            
        
            
            
                
                    
                
            
        
            
            
                
                    
                
            
        
            
            
                
                    
                
            
        
            
            
                
                    
                
            
        
            
            
                
                    
                
            
        
            
            
                
                    
                
            
        
            
            
                
                    
                
            
        
        

        <div class="post-recent">
    <div class="pre">
        
        <p><strong>上一篇</strong> <a href="/c-language">C 语言的基本数据类型（一）</a></p>
        
    </div>
    <div class="nex">

        
        <p><strong>下一篇</strong> <a href="/2016/08/14/c-string-function/">C 语言字符串处理函数（三）</a></p>
        
    </div>
</div>


        <h2 id="comments">Comments</h2>
        
  
  <!-- Gitalk 评论 start  -->
  <!-- Link Gitalk 的支持文件  -->
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
  <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
  
  <div id="gitalk-container">
      <script type="text/javascript">
      var gitalk = new Gitalk({
  
      // gitalk的主要参数
          clientID: `3d507f3b58e98bd4c002`,
          clientSecret: `20eb5562ff08dcc12a9a61edbdb8b29f9135e302`,
          repo: `git-xuhao.github.io`,
          owner: `git-xuhao`,
          admin: [`git-xuhao`],
          id: location.pathname,
          distractionFreeMode: false

      });
      gitalk.render('gitalk-container');
  </script>
  </div>
  <!-- Gitalk end -->



    </div>
    <button class="anchor"><i class="fa fa-anchor"></i></button>
    <div class="right">
        <div class="wrap">

            <!-- Content -->
            <div class="side content">
                <div>
                    目录
                </div>
                <ul id="content-side" class="content-ul">
                    
                    <li><a href="#comments">Comments</a></li>
                </ul>
            </div>
            <!-- 其他div框放到这里 -->
            <!-- <div class="side">bbbb</div> -->
        </div>
    </div>
</div>
<script>
/**
 * target _blank
 */
(function() {
    var aTags = document.querySelectorAll('article a:not([id])')
    for (var i = 0; i < aTags.length; i++) {
        aTags[i].setAttribute('target', '_blank')
    }
}());
</script>
<script src="/js/pageContent.js " charset="utf-8"></script>


    <footer class="site-footer">


    <div class="wrapper">

        <p class="description">
             徐昊Xiho开源技术博客 
        </p>
        <p class="contact">
            <b>| 联系我</b>
            <a href="mailto:igeekho@gmail.com" title="email"><i class="fa fa-envelope-square" aria-hidden="true"></i></a> 
            <a href="https://github.com/git-xuhao" title="GitHub"><i class="fa fa-github" aria-hidden="true"></i></a> 
            <a href="http://weibo.com/xuxiho" title="Weibo"><i class="fa fa-weibo" aria-hidden="true"></i></a>    
            <a href="https://www.facebook.com/google.xu" title="Facebook"><i class="fa fa-facebook-official" aria-hidden="true"></i></a>    
        </p>
        <p>
            本站总访问量<span id="busuanzi_value_site_pv"></span>次，本站访客数<span id="busuanzi_value_site_uv"></span>人次
        </p>
      
            <span>
                © 2015-2018  Power by Jekyll </a>
            </span>
    
    </div>
</footer>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <div class="back-to-top">
    <a href="#top" data-scroll>
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
    </a>
</div>

    <script src=" /js/main.js " charset="utf-8"></script>
    <script src=" /js/smooth-scroll.min.js " charset="utf-8"></script>
    <script type="text/javascript">
      smoothScroll.init({
        speed: 500, // Integer. How fast to complete the scroll in milliseconds
        easing: 'easeInOutCubic', // Easing pattern to use
        offset: 20, // Integer. How far to offset the scrolling anchor location in pixels
      });
    </script>
    <!-- <script src=" /js/scroll.min.js " charset="utf-8"></script> -->
  </body>

</html>
